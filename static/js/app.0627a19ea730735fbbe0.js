webpackJsonp([1],{"A/Wi":function(t,e){},"L4/o":function(t,e,n){t.exports=n.p+"static/img/bing.f3f1424.jpg"},MsGp:function(t,e,n){t.exports=n.p+"static/img/tjz.8d6bb96.jpg"},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var o=n("VU/8")({name:"App"},s,!1,function(t){n("A/Wi")},null,null).exports,r=n("/ocq"),a=n("//Fk"),d=n.n(a),c={name:"scroll-loader",props:{minHeight:{type:Number,default:800}},created:function(){},computed:{realMinHeight:function(){return this.minHeight+30}},data:function(){return{topLoading:!1,bottomLoading:!1,stopTopLoading:!1,stopBottomLoading:!1}},mounted:function(){this.listenScroll()},methods:{listenScroll:function(){var t=this,e=function(e){t.topLoading=!1,e&&(t.stopTopLoading=!0)},n=function(e){t.bottomLoading=!1,e&&(t.stopBottomLoading=!0)};setTimeout(function(){var i=document.getElementById("scrollLoader-container");i.onscroll=function(){if(i.scrollTop<=0&&!t.stopTopLoading){if(t.topLoading)return;t.topLoading=!0,t.$emit("upscroll",e)}if(i.offsetHeight+i.scrollTop+1>=i.scrollHeight&&!t.stopBottomLoading){if(t.bottomLoading)return;t.bottomLoading=!0,i.scrollTop+=40,t.$emit("downscroll",n)}}},50)}}},u={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-main",attrs:{id:"scrollLoader-container"}},[t.topLoading?n("div",{staticClass:"loading"},[n("div",{staticClass:"loader"})]):t._e(),t._v(" "),n("div",{style:"min-height:"+t.realMinHeight+"px; overflow-x:hidden"},[t._t("default")],2),t._v(" "),t.bottomLoading?n("div",{staticClass:"loading"},[n("div",{staticClass:"loader"})]):t._e()])},staticRenderFns:[]};var p=n("VU/8")(c,u,!1,function(t){n("VrMn")},"data-v-b229362c",null).exports,m={text:1,img:2},l=[{id:1,userId:1,type:m.text,content:"哎，敖丙出来一起玩啊",imgurl:n("h7X3")},{id:2,userId:2,type:m.img,content:n("MsGp"),imgurl:n("m48a")},{id:3,userId:1,type:m.img,content:n("eoWL"),imgurl:n("h7X3")},{id:4,userId:0,type:m.text,content:"殷十娘、李靖加入群聊"},{id:5,userId:3,type:m.text,content:"吒儿，开饭了",imgurl:n("YgB2")}],g={name:"msgRender",components:{ScrollLoader:p},data:function(){return{groupName:"哪吒剧组",memberCount:9,minHeight:700,maxHeight:700,isUpperLaoding:!1,isUnderLaoding:!1,isRefreshedAll:!1,isDownLoadedAll:!1,upperTimes:0,underTimes:0,upperId:0,underId:6,maxTimes:5,ownerId:1,systemId:0,types:m,msgDatas:[]}},created:function(){this.initData()},mounted:function(){this.minHeight=document.getElementById("window-container").offsetHeight,this.maxHeight=document.getElementById("window-container").offsetHeight},methods:{initData:function(){this.msgDatas=this.msgDatas.concat(l)},getUpperData:function(){var t=this;return new d.a(function(e){setTimeout(function(){if(t.upperTimes>t.maxTimes)return e([]);e([{id:t.upperId-1,userId:0,type:m.img,content:"第 "+t.upperTimes+" 次向上滚动！"},{id:t.upperId-2,userId:1,type:m.img,content:n("eoWL"),imgurl:n("h7X3")},{id:t.upperId-3,userId:5,type:m.text,content:"哪吒破"+(20-t.upperTimes)+"亿啦！",imgurl:n("L4/o")}])},1e3),t.upperId=t.upperId-3,t.upperTimes++})},getUnderData:function(){var t=this;return new d.a(function(e){setTimeout(function(){if(t.underTimes>t.maxTimes)return e([]);e([{id:t.underId+1,userId:0,type:m.img,content:"第 "+t.underTimes+" 次向下滚动！"},{id:t.underId+2,userId:t.underId+1,type:m.text,content:"吒儿，票房破"+(30+t.underTimes)+"亿啦",imgurl:n("YgB2")},{id:t.underId+3,userId:t.underId+1,type:m.text,content:"加载第 "+t.underTimes+" 条新信息！",imgurl:n("m48a")}])},1e3),t.underId=t.underId+3,t.underTimes++})},refresh:function(t){var e=this;if(!e.isUpperLaoding){if(e.isRefreshedAll)return t(!0),void(e.isUpperLaoding=!1);try{this.getUpperData().then(function(n){0==n.length?(e.isRefreshedAll=!0,t(!0)):(e.msgDatas=n.reverse().concat(e.msgDatas),t())})}catch(t){console.error("msRender: getUpperData error!")}e.isUpperLaoding=!1}},download:function(t){var e=this;if(!e.isUnderLaoding){if(e.isDownLoadedAll)return t(!0),void(e.isUnderLaoding=!1);try{this.getUnderData().then(function(n){0==n?(e.isDownLoadedAll=!0,t(!0)):(t(),e.msgDatas=e.msgDatas.concat(n))})}catch(t){console.error("msgRender: getUnderData error!")}e.isUnderLaoding=!1}}}},f={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"msgrender-container"},[n("div",{staticClass:"window",attrs:{id:"window-container"}},[n("div",{staticClass:"title"},[n("p",{domProps:{textContent:t._s(t.groupName+"("+t.memberCount+")")}})]),t._v(" "),t.msgDatas&&0==t.msgDatas.length?n("div",{staticClass:"loading"},[t._m(0)]):t._e(),t._v(" "),t.msgDatas&&t.msgDatas.length>0?n("ScrollLoader",{staticClass:"container-main",style:{maxHeight:t.maxHeight-50+"px"},attrs:{minHeight:t.minHeight},on:{upscroll:t.refresh,downscroll:t.download}},[n("div",{staticClass:"message"},[n("ul",t._l(t.msgDatas,function(e,i){return n("li",{key:e.id,class:e.userId==t.ownerId?"msg-right":"msg-left"},[e.userId==t.systemId?n("p",{staticClass:"system"},[n("span",{domProps:{innerHTML:t._s(e.content)}})]):n("div",{class:"main"+(e.userId==t.ownerId?" self":"")},[n("img",{staticClass:"avatar",attrs:{width:"45",height:"45",src:e.imgurl}}),t._v(" "),e.type==t.types.text?n("div",{staticClass:"text"},[t._v(t._s(e.content))]):e.type==t.types.img?n("img",{staticClass:"image",attrs:{src:e.content,alt:"images"}}):t._e()])])}),0)])]):t._e()],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{"margin-top":"300px","text-align":"center","font-size":"16px"}},[e("span",[this._v("未查找到聊天记录")])])}]};var h=n("VU/8")(g,f,!1,function(t){n("U2Pf")},"data-v-1af89726",null).exports;i.a.use(r.a);var v=new r.a({routes:[{path:"/",name:"MsgRender",component:h}]});i.a.config.productionTip=!1,new i.a({el:"#app",router:v,components:{App:o},template:"<App/>"})},U2Pf:function(t,e){},VrMn:function(t,e){},YgB2:function(t,e,n){t.exports=n.p+"static/img/za.db96103.jpeg"},eoWL:function(t,e,n){t.exports=n.p+"static/img/zaza.c750689.jpg"},h7X3:function(t,e,n){t.exports=n.p+"static/img/nezha.9e8584b.jpg"},m48a:function(t,e,n){t.exports=n.p+"static/img/bingbing.303a6fc.jpg"}},["NHnr"]);
//# sourceMappingURL=app.0627a19ea730735fbbe0.js.map