{"version":3,"sources":["webpack:///./src/assets/bing.jpg","webpack:///./src/assets/tjz.jpg","webpack:///./src/App.vue?a7d5","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///src/components/scrollLoader.vue","webpack:///./src/components/scrollLoader.vue?9438","webpack:///./src/components/scrollLoader.vue","webpack:///src/components/MsgRender.vue","webpack:///./src/components/MsgRender.vue?eeda","webpack:///./src/components/MsgRender.vue","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/assets/za.jpeg","webpack:///./src/assets/zaza.jpg","webpack:///./src/assets/nezha.jpg","webpack:///./src/assets/bingbing.jpg"],"names":["module","exports","__webpack_require__","p","selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","normalizeComponent","name","ssrContext","scrollLoader","props","minHeight","type","Number","default","created","computed","realMinHeight","data","topLoading","bottomLoading","stopTopLoading","stopBottomLoading","mounted","listenScroll","methods","that","topScroll","bottomScroll","setTimeout","scrollContainer","document","getElementById","onscroll","scrollTop","$emit","offsetHeight","scrollHeight","components_scrollLoader","_vm","staticClass","_e","_v","style","_t","src_components_scrollLoader","scrollLoader_normalizeComponent","types","text","img","msgDatas","userId","content","imgurl","MsgRender","components","ScrollLoader","groupName","memberCount","maxHeight","isUpperLaoding","isUnderLaoding","isRefreshedAll","isDownLoadedAll","upperTimes","underTimes","upperId","underId","maxTimes","ownerId","systemId","initData","concat","getUpperData","promise_default","a","resolve","getUnderData","refresh","done","then","length","reverse","error","console","download","components_MsgRender","domProps","textContent","_s","_m","on","upscroll","downscroll","_l","message","index","key","class","innerHTML","width","height","src","alt","staticStyle","margin-top","text-align","font-size","src_components_MsgRender","MsgRender_normalizeComponent","Vue","use","Router","router","routes","path","component","config","productionTip","el","App","template"],"mappings":"gEAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,oDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,iICGzBC,GADEC,OAFjB,WAA0B,IAAaC,EAAbC,KAAaC,eAA0BC,EAAvCF,KAAuCG,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,OAAiBE,OAAOC,GAAA,SAAYH,EAAA,oBAE5GI,oBCCjB,IAuBeC,EAvBUZ,EAAQ,OAcjCa,ECTAC,KAAA,ODWEZ,GATF,EAVA,SAAAa,GACEf,EAAQ,SAaV,KAEA,MAUgC,yCEThCgB,GACAF,KAAA,gBACAG,OACAC,WACAC,KAAAC,OACAC,QAAA,MAIAC,QATA,aAWAC,UACAC,cADA,WAEA,OAAAnB,KAAAa,UAAA,KAGAO,KAhBA,WAiBA,OACAC,YAAA,EACAC,eAAA,EACAC,gBAAA,EACAC,mBAAA,IAGAC,QAxBA,WAyBAzB,KAAA0B,gBAEAC,SACAD,aADA,WAEA,IAAAE,EAAA5B,KACA6B,EAAA,SAAAN,GACAK,EAAAP,YAAA,EACAE,IAAAK,EAAAL,gBAAA,IAGAO,EAAA,SAAAN,GACAI,EAAAN,eAAA,EACAE,IAAAI,EAAAJ,mBAAA,IAEAO,WAAA,WACA,IAAAC,EAAAC,SAAAC,eAAA,0BAEAF,EAAAG,SAAA,WAEA,GAAAH,EAAAI,WAAA,IAAAR,EAAAL,eAAA,CACA,GAAAK,EAAAP,WAAA,OAEAO,EAAAP,YAAA,EACAO,EAAAS,MAAA,WAAAR,GAEA,GAAAG,EAAAM,aAAAN,EAAAI,UAAA,GAAAJ,EAAAO,eAAAX,EAAAJ,kBAAA,CACA,GAAAI,EAAAN,cAAA,OAEAM,EAAAN,eAAA,EACAU,EAAAI,WAAA,GACAR,EAAAS,MAAA,aAAAP,MAGA,OCxEeU,GADE1C,OAFP,WAAgB,IAAA2C,EAAAzC,KAAaD,EAAA0C,EAAAxC,eAA0BC,EAAAuC,EAAAtC,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,OAAiBwC,YAAA,iBAAAtC,OAAoCC,GAAA,4BAA+BoC,EAAA,WAAAvC,EAAA,OAA6BwC,YAAA,YAAsBxC,EAAA,OAAYwC,YAAA,aAAqBD,EAAAE,KAAAF,EAAAG,GAAA,KAAA1C,EAAA,OAAmC2C,MAAA,cAAAJ,EAAAtB,cAAA,0BAAoEsB,EAAAK,GAAA,eAAAL,EAAAG,GAAA,KAAAH,EAAA,cAAAvC,EAAA,OAAkEwC,YAAA,YAAsBxC,EAAA,OAAYwC,YAAA,aAAqBD,EAAAE,QAEjcrC,oBCChC,IAuBeyC,EAvBUpD,EAAQ,OAcjBqD,CACdrC,EACA6B,GAT6B,EAV/B,SAAoB9B,GAClBf,EAAQ,SAaS,kBAEU,MAUG,QCqChCsD,GACAC,KAAA,EACAC,IAAA,GAEAC,IACA/C,GAAA,EACAgD,OAAA,EACAvC,KAAAmC,EAAAC,KACAI,QAAA,aACAC,OAAA5D,EAAA,UAGAU,GAAA,EACAgD,OAAA,EACAvC,KAAAmC,EAAAE,IACAG,QAAA3D,EAAA,QACA4D,OAAA5D,EAAA,UAGAU,GAAA,EACAgD,OAAA,EACAvC,KAAAmC,EAAAE,IACAG,QAAA3D,EAAA,QACA4D,OAAA5D,EAAA,UAGAU,GAAA,EACAgD,OAAA,EACAvC,KAAAmC,EAAAC,KACAI,QAAA,eAGAjD,GAAA,EACAgD,OAAA,EACAvC,KAAAmC,EAAAC,KACAI,QAAA,SACAC,OAAA5D,EAAA,UAGA6D,GACA/C,KAAA,YACAgD,YACAC,aAAAX,GAEA3B,KALA,WAMA,OACAuC,UAAA,OACAC,YAAA,EACA/C,UAAA,IACAgD,UAAA,IACAC,gBAAA,EACAC,gBAAA,EACAC,gBAAA,EACAC,iBAAA,EACAC,WAAA,EACAC,WAAA,EACAC,QAAA,EACAC,QAAA,EACAC,SAAA,EACAC,QAAA,EACAC,SAAA,EACAvB,QACAG,cAIAnC,QA3BA,WA4BAjB,KAAAyE,YAEAhD,QA9BA,WA+BAzB,KAAAa,UAAAoB,SAAAC,eAAA,oBAAAI,aACAtC,KAAA6D,UAAA5B,SAAAC,eAAA,oBAAAI,cAGAX,SACA8C,SADA,WAEAzE,KAAAoD,SAAApD,KAAAoD,SAAAsB,OAAAtB,IAIAuB,aANA,WAOA,IAAA/C,EAAA5B,KACA,WAAA4E,EAAAC,EAAA,SAAAC,GACA/C,WAAA,WACA,GAAAH,EAAAsC,WAAAtC,EAAA0C,SACA,OAAAQ,MAEAA,IACAzE,GAAAuB,EAAAwC,QAAA,EACAf,OAAA,EACAvC,KAAAmC,EAAAE,IACAG,QAAA,KAAA1B,EAAAsC,WAAA,YAGA7D,GAAAuB,EAAAwC,QAAA,EACAf,OAAA,EACAvC,KAAAmC,EAAAE,IACAG,QAAA3D,EAAA,QACA4D,OAAA5D,EAAA,UAGAU,GAAAuB,EAAAwC,QAAA,EACAf,OAAA,EACAvC,KAAAmC,EAAAC,KACAI,QAAA,UAAA1B,EAAAsC,YAAA,MACAX,OAAA5D,EAAA,YAIA,KACAiC,EAAAwC,QAAAxC,EAAAwC,QAAA,EACAxC,EAAAsC,gBAIAa,aAzCA,WA0CA,IAAAnD,EAAA5B,KACA,WAAA4E,EAAAC,EAAA,SAAAC,GACA/C,WAAA,WAEA,GAAAH,EAAAuC,WAAAvC,EAAA0C,SACA,OAAAQ,MAIAA,IAEAzE,GAAAuB,EAAAyC,QAAA,EACAhB,OAAA,EACAvC,KAAAmC,EAAAE,IACAG,QAAA,KAAA1B,EAAAuC,WAAA,YAEA9D,GAAAuB,EAAAyC,QAAA,EACAhB,OAAAzB,EAAAyC,QAAA,EACAvD,KAAAmC,EAAAC,KACAI,QAAA,aAAA1B,EAAAuC,YAAA,KACAZ,OAAA5D,EAAA,UAGAU,GAAAuB,EAAAyC,QAAA,EACAhB,OAAAzB,EAAAyC,QAAA,EACAvD,KAAAmC,EAAAC,KACAI,QAAA,OAAA1B,EAAAuC,WAAA,SACAZ,OAAA5D,EAAA,YAGA,KAEAiC,EAAAyC,QAAAzC,EAAAyC,QAAA,EACAzC,EAAAuC,gBAKAa,QAhFA,SAgFAC,GACA,IAAArD,EAAA5B,KACA,IAAA4B,EAAAkC,eAAA,CAIA,GAAAlC,EAAAoC,eAGA,OAFAiB,GAAA,QACArD,EAAAkC,gBAAA,GAIA,IACA9D,KAAA2E,eAAAO,KAAA,SAAA9D,GACA,GAAAA,EAAA+D,QACAvD,EAAAoC,gBAAA,EACAiB,GAAA,KAEArD,EAAAwB,SAAAhC,EAAAgE,UAAAV,OAAA9C,EAAAwB,UACA6B,OAGA,MAAAI,GACAC,QAAAD,MAAA,iCAEAzD,EAAAkC,gBAAA,IAIAyB,SA7GA,SA6GAN,GACA,IAAArD,EAAA5B,KACA,IAAA4B,EAAAmC,eAAA,CAGA,GAAAnC,EAAAqC,gBAGA,OAFAgB,GAAA,QACArD,EAAAmC,gBAAA,GAIA,IACA/D,KAAA+E,eAAAG,KAAA,SAAA9D,GACA,GAAAA,GACAQ,EAAAqC,iBAAA,EACAgB,GAAA,KAEAA,IACArD,EAAAwB,SAAAxB,EAAAwB,SAAAsB,OAAAtD,MAGA,MAAAiE,GACAC,QAAAD,MAAA,kCAEAzD,EAAAmC,gBAAA,MC3QeyB,GADE1F,OAFP,WAAgB,IAAA2C,EAAAzC,KAAaD,EAAA0C,EAAAxC,eAA0BC,EAAAuC,EAAAtC,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,OAAiBwC,YAAA,wBAAkCxC,EAAA,OAAYwC,YAAA,SAAAtC,OAA4BC,GAAA,sBAAyBH,EAAA,OAAYwC,YAAA,UAAoBxC,EAAA,KAAUuF,UAAUC,YAAAjD,EAAAkD,GAAAlD,EAAAkB,UAAA,IAAAlB,EAAAmB,YAAA,UAA6DnB,EAAAG,GAAA,KAAAH,EAAAW,UAAA,GAAAX,EAAAW,SAAA+B,OAAAjF,EAAA,OAAmEwC,YAAA,YAAsBD,EAAAmD,GAAA,KAAAnD,EAAAE,KAAAF,EAAAG,GAAA,KAAAH,EAAAW,UAAAX,EAAAW,SAAA+B,OAAA,EAAAjF,EAAA,gBAA8FwC,YAAA,iBAAAG,OAAqCgB,UAAApB,EAAAoB,UAAA,SAAmCzD,OAASS,UAAA4B,EAAA5B,WAA0BgF,IAAKC,SAAArD,EAAAuC,QAAAe,WAAAtD,EAAA8C,YAAkDrF,EAAA,OAAYwC,YAAA,YAAsBxC,EAAA,KAAAuC,EAAAuD,GAAAvD,EAAA,kBAAAwD,EAAAC,GAAwD,OAAAhG,EAAA,MAAgBiG,IAAAF,EAAA5F,GAAA+F,MAAAH,EAAA5C,QAAAZ,EAAA8B,QAAA,yBAAwE0B,EAAA5C,QAAAZ,EAAA+B,SAAAtE,EAAA,KAAyCwC,YAAA,WAAqBxC,EAAA,QAAauF,UAAUY,UAAA5D,EAAAkD,GAAAM,EAAA3C,cAAqCpD,EAAA,OAAckG,MAAA,QAAAH,EAAA5C,QAAAZ,EAAA8B,QAAA,cAAwDrE,EAAA,OAAYwC,YAAA,SAAAtC,OAA4BkG,MAAA,KAAAC,OAAA,KAAAC,IAAAP,EAAA1C,UAAiDd,EAAAG,GAAA,KAAAqD,EAAAnF,MAAA2B,EAAAQ,MAAAC,KAAAhD,EAAA,OAAuDwC,YAAA,SAAmBD,EAAAG,GAAAH,EAAAkD,GAAAM,EAAA3C,YAAA2C,EAAAnF,MAAA2B,EAAAQ,MAAAE,IAAAjD,EAAA,OAA4EwC,YAAA,QAAAtC,OAA2BoG,IAAAP,EAAA3C,QAAAmD,IAAA,YAAsChE,EAAAE,WAAe,OAAAF,EAAAE,MAAA,MAExyCrC,iBADb,WAAiB,IAAaP,EAAbC,KAAaC,eAA0BC,EAAvCF,KAAuCG,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,OAAiBwG,aAAaC,aAAA,QAAAC,aAAA,SAAAC,YAAA,UAA+D3G,EAAA,QAA5JF,KAA4J4C,GAAA,mBCEhM,IAuBekE,EAvBUnH,EAAQ,OAcjBoH,CACdvD,EACAgC,GAT6B,EAV/B,SAAoB9E,GAClBf,EAAQ,SAaS,kBAEU,MAUG,QCtBhCqH,IAAIC,IAAIC,KAEO,IAAAC,EAAA,IAAID,KACjBE,SAEIC,KAAM,IACN5G,KAAM,YACN6G,UAAW9D,MCLjBwD,IAAIO,OAAOC,eAAgB,EAG3B,IAAIR,KACFS,GAAI,OACJN,SACA1D,YAAciE,OACdC,SAAU,2ECbZlI,EAAAC,QAAiBC,EAAAC,EAAuB,mDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,oDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,qDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB","file":"static/js/app.0627a19ea730735fbbe0.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/img/bing.f3f1424.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/bing.jpg\n// module id = L4/o\n// module chunks = 1","module.exports = __webpack_public_path__ + \"static/img/tjz.8d6bb96.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/tjz.jpg\n// module id = MsGp\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4b00ee11\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4b00ee11\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4b00ee11\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\n</script>\n\n<style>\nhtml,body,#app,ul,p{margin: 0;padding: 0;}\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","<template>\r\n    <div id=\"scrollLoader-container\" class=\"container-main\">\r\n        <div class=\"loading\" v-if=\"topLoading\">\r\n            <div class=\"loader\"></div>\r\n        </div>\r\n\r\n        <div :style=\"'min-height:' + realMinHeight + 'px; overflow-x:hidden'\">\r\n            <slot></slot>\r\n        </div>\r\n\r\n        <div class=\"loading\" v-if=\"bottomLoading\">\r\n            <div class=\"loader\"></div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"scroll-loader\",\r\n        props: {\r\n            'minHeight': {\r\n                type: Number,\r\n                default: 800\r\n            }, \r\n                \r\n        },\r\n        created(){\r\n        },\r\n        computed: {\r\n            realMinHeight(){\r\n                return this.minHeight + 30\r\n            }\r\n        },\r\n        data() {\r\n            return {\r\n               topLoading: false,\r\n               bottomLoading: false,\r\n               stopTopLoading: false, \r\n               stopBottomLoading: false,\r\n            }\r\n        },\r\n        mounted(){\r\n            this.listenScroll();\r\n        },\r\n        methods: {\r\n            listenScroll(){\r\n                var that = this;\r\n                var topScroll = (stopTopLoading) => {\r\n                    that.topLoading = false;\r\n                    if(stopTopLoading) that.stopTopLoading = true;\r\n                };\r\n\r\n                var bottomScroll = (stopBottomLoading) => {\r\n                    that.bottomLoading = false;\r\n                    if(stopBottomLoading) that.stopBottomLoading = true;\r\n                };\r\n                setTimeout(function(){\r\n                    var scrollContainer = document.getElementById('scrollLoader-container');\r\n\r\n                    scrollContainer.onscroll = function(){\r\n\r\n                        if(scrollContainer.scrollTop<=0 && !that.stopTopLoading){\r\n                            if(that.topLoading) return;\r\n\r\n                            that.topLoading = true;\r\n                            that.$emit('upscroll', topScroll);\r\n                        }\r\n                        if((scrollContainer.offsetHeight + scrollContainer.scrollTop+1 >= scrollContainer.scrollHeight) && !that.stopBottomLoading){\r\n                            if(that.bottomLoading) return;\r\n\r\n                            that.bottomLoading = true;\r\n                            scrollContainer.scrollTop += 40;\r\n                            that.$emit('downscroll', bottomScroll);\r\n                        }\r\n                    }\r\n                }, 50)\r\n            },\r\n\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n   .container-main {\r\n        margin: 0 auto; \r\n        overflow: auto; \r\n        overflow-x: hidden; \r\n        padding: 0;\r\n    }\r\n   .loading{ \r\n        width: 100%; \r\n        height: 40px; \r\n        position: relative; \r\n        overflow: hidden; \r\n        text-align: center; \r\n        margin: 5px 0 ; \r\n        color: #999; \r\n        font-size: 13px;\r\n    }\r\n   .loader {\r\n        font-size: 10px;\r\n        margin: 8px auto;\r\n        width: 24px;\r\n        height: 24px;\r\n        border-radius: 50%;\r\n        background: #999;\r\n        background: -moz-linear-gradient(left, #999 10%, rgba(255, 255, 255, 0) 42%);\r\n        background: -webkit-linear-gradient(left, #999 10%, rgba(255, 255, 255, 0) 42%);\r\n        background: -o-linear-gradient(left, #999 10%, rgba(255, 255, 255, 0) 42%);\r\n        background: -ms-linear-gradient(left, #999 10%, rgba(255, 255, 255, 0) 42%);\r\n        background: linear-gradient(to right, #999 10%, rgba(255, 255, 255, 0) 42%);\r\n        position: relative;\r\n        -webkit-animation: load3 1s infinite linear;\r\n        animation: load3 1s infinite linear;\r\n    }\r\n    .loader:before {\r\n        width: 50%;\r\n        height: 50%;\r\n        background: #999;\r\n        border-radius: 100% 0 0 0;\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        content: '';\r\n    }\r\n    .loader:after {\r\n        background: #f5f5f5;\r\n        width: 72%;\r\n        height: 75%;\r\n        border-radius: 68%;\r\n        content: '';\r\n        margin: auto;\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        bottom: 0;\r\n        right: 0;\r\n    }\r\n    @-webkit-keyframes load3 {\r\n    0% {\r\n        -webkit-transform: rotate(0deg);\r\n        transform: rotate(0deg);\r\n    }\r\n    100% {\r\n        -webkit-transform: rotate(360deg);\r\n        transform: rotate(360deg);\r\n    }\r\n    }\r\n    @keyframes load3 {\r\n    0% {\r\n        -webkit-transform: rotate(0deg);\r\n        transform: rotate(0deg);\r\n    }\r\n    100% {\r\n        -webkit-transform: rotate(360deg);\r\n        transform: rotate(360deg);\r\n    }\r\n    }\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/scrollLoader.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-main\",attrs:{\"id\":\"scrollLoader-container\"}},[(_vm.topLoading)?_c('div',{staticClass:\"loading\"},[_c('div',{staticClass:\"loader\"})]):_vm._e(),_vm._v(\" \"),_c('div',{style:('min-height:' + _vm.realMinHeight + 'px; overflow-x:hidden')},[_vm._t(\"default\")],2),_vm._v(\" \"),(_vm.bottomLoading)?_c('div',{staticClass:\"loading\"},[_c('div',{staticClass:\"loader\"})]):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b229362c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/scrollLoader.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b229362c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./scrollLoader.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./scrollLoader.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./scrollLoader.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b229362c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./scrollLoader.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-b229362c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/scrollLoader.vue\n// module id = null\n// module chunks = ","/***\nparam:\n    groupName       the name of this discussion\n    memberCount     total count of member in this discussion\n    ownerId         the id of owner\n    systemId        system id\n    types           types of messages,include text,image\n    msgDatas        masseage object.The structure is as follows:\n    [{\n        id: 1,      //id for sorting message\n        userId: 1,  // id of user who send this message\n        type: types.text,   //type of this message,text or image\n        content: '哎，敖丙出来一起玩啊', //message content:text or image url\n        imgurl: require('../assets/nezha.jpg') //image of user who send this message\n      },\n      {\n        id: 2,\n        userId: 2,\n        type: types.img,\n        content: require('../assets/tjz.jpg'),\n        imgurl: require('../assets/bingbing.jpg')\n      }]\n\n***/\n<template>\n    <div class=\"msgrender-container\">\n        <div class=\"window\" id=\"window-container\">\n            <div class=\"title\">\n                <p v-text=\"groupName+'('+memberCount+')'\"></p>\n            </div>\n            <!-- data is empty -->\n            <div class=\"loading\" v-if=\"msgDatas && msgDatas.length==0\">\n                <div style=\"margin-top: 300px;text-align:center; font-size: 16px;\">\n                    <span>未查找到聊天记录</span>\n                </div>\n            </div>\n            <!-- main render-->\n            <ScrollLoader :minHeight=\"minHeight\" @upscroll=\"refresh\" @downscroll=\"download\" class=\"container-main\" v-if=\"msgDatas && msgDatas.length>0\" :style=\"{maxHeight: maxHeight-50 + 'px'}\">\n                <div class=\"message\">\n                    <ul>\n                        <li v-for=\"(message, index) in msgDatas\" :key=\"message.id\" :class=\"message.userId==ownerId?'msg-right':'msg-left'\">\n                            <p class=\"system\" v-if=\"message.userId==systemId\"> <span v-html=\"message.content\"></span> </p>\n                            <div :class=\"'main' + (message.userId==ownerId?' self':'')\" v-else>\n                                <img class=\"avatar\" width=\"45\" height=\"45\" :src=\"message.imgurl\">\n                                <!-- text -->\n                                <div class=\"text\" v-if=\"message.type==types.text\">{{message.content}}</div>\n\n                                <!-- img -->\n                                <img :src=\"message.content\" class=\"image\" alt=\"images\" v-else-if=\"message.type==types.img\">\n                            </div>\n                        </li>\n                        \n                    </ul>\n                </div>\n            </ScrollLoader>\n\n        </div>\n\n    </div>\n</template>\n\n<script>\n    import ScrollLoader from './scrollLoader.vue';\n    var types={\n        text: 1,\n        img: 2\n      }\n    var msgDatas=[{\n        id: 1,\n        userId: 1,\n        type: types.text,\n        content: '哎，敖丙出来一起玩啊',\n        imgurl: require('../assets/nezha.jpg')\n      },\n      {\n        id: 2,\n        userId: 2,\n        type: types.img,\n        content: require('../assets/tjz.jpg'),\n        imgurl: require('../assets/bingbing.jpg')\n      },\n      {\n        id: 3,\n        userId: 1,\n        type: types.img,\n        content: require('../assets/zaza.jpg'),\n        imgurl: require('../assets/nezha.jpg')\n      },\n      {\n        id: 4,\n        userId: 0,\n        type: types.text,\n        content: '殷十娘、李靖加入群聊'\n      },\n      {\n        id: 5,\n        userId: 3,\n        type: types.text,\n        content: '吒儿，开饭了',\n        imgurl: require('../assets/za.jpeg')\n      }]\n\n    export default {\n        name: \"msgRender\",\n        components: {\n            ScrollLoader\n        },\n        data() {\n            return {\n                groupName: '哪吒剧组',\n                memberCount: 9,\n                minHeight: 700,\n                maxHeight: 700,\n                isUpperLaoding: false,\n                isUnderLaoding: false,\n                isRefreshedAll: false,\n                isDownLoadedAll: false,\n                upperTimes: 0,\n                underTimes: 0,\n                upperId: 0,\n                underId: 6,\n                maxTimes: 5,\n                ownerId: 1,\n                systemId: 0,\n                types:types,\n                msgDatas: []\n            }\n        },\n\n        created() {\n            this.initData();\n        },\n        mounted(){\n            this.minHeight = document.getElementById('window-container').offsetHeight;\n            this.maxHeight = document.getElementById('window-container').offsetHeight;\n        },\n\n        methods: {\n            initData(){\n                this.msgDatas = this.msgDatas.concat(msgDatas);\n            },\n\n            //向上滚动加载数据\n            getUpperData(){\n              var that = this;\n              return new Promise(function(resolve){\n                setTimeout(function(){\n                  if(that.upperTimes>that.maxTimes){\n                    return resolve([]);\n                  }\n                  resolve([{\n                      id: that.upperId-1,\n                      userId: 0,\n                      type: types.img,\n                      content: '第 ' + that.upperTimes +' 次向上滚动！'\n                    },\n                    {\n                      id: that.upperId-2,\n                      userId: 1,\n                      type: types.img,\n                      content: require('../assets/zaza.jpg'),\n                      imgurl: require('../assets/nezha.jpg')\n                    },\n                    {\n                      id: that.upperId-3,\n                      userId: 5,\n                      type: types.text,\n                      content: '哪吒破'+(20-that.upperTimes)+'亿啦！',\n                      imgurl: require('../assets/bing.jpg')\n                    }]\n              \n                  )\n                }, 1000);\n                that.upperId= that.upperId-3;\n                that.upperTimes++;\n              })\n            },\n\n            getUnderData(){\n              var that = this;\n              return new Promise(function(resolve){\n                setTimeout(function(){\n                  //模拟加载完毕\n                  if(that.underTimes>that.maxTimes){\n                    return resolve([]);\n                  }\n                  \n                  //加载数据\n                  resolve(\n                    [{\n                      id: that.underId+1,\n                      userId: 0,\n                      type: types.img,\n                      content: '第 ' + that.underTimes +' 次向下滚动！'\n                    },{\n                      id: that.underId+2,\n                      userId: that.underId+1,\n                      type: types.text,\n                      content: '吒儿，票房破'+(30+that.underTimes)+'亿啦',\n                      imgurl: require('../assets/za.jpeg')\n                    },\n                    {\n                      id: that.underId+3,\n                      userId: that.underId+1,\n                      type: types.text,\n                      content: '加载第 ' + that.underTimes +' 条新信息！',\n                      imgurl: require('../assets/bingbing.jpg')\n                    }]\n                  )\n                }, 1000);\n\n                that.underId = that.underId+3;\n                that.underTimes++;\n              })\n            },\n\n            //向上拉刷新\n            refresh(done) {\n                var that = this;\n                if(that.isUpperLaoding){\n                    return;\n                }\n\n                if(that.isRefreshedAll){\n                    done(true);\n                    that.isUpperLaoding = false;\n                    return;\n                }\n                \n                try {\n                    this.getUpperData().then(function(data){\n                        if(data.length==0){\n                            that.isRefreshedAll = true;\n                            done(true);\n                        }else{\n                            that.msgDatas = data.reverse().concat(that.msgDatas); //倒序合并\n                            done();\n                        }\n                    })\n                } catch (error) {\n                    console.error('msRender: getUpperData error!')\n                }\n                that.isUpperLaoding = false;\n            },\n\n            //向下拉加载\n            download(done) {\n                var that = this;\n                if(that.isUnderLaoding){\n                    return;\n                }\n                if(that.isDownLoadedAll){\n                    done(true);\n                    that.isUnderLaoding = false;\n                    return;\n                }\n                \n                try {\n                    this.getUnderData().then(function(data){\n                        if(data == 0){\n                            that.isDownLoadedAll = true;\n                            done(true);\n                        }else{\n                            done();\n                            that.msgDatas = that.msgDatas.concat(data); //concat msgdatas\n                        }\n                    })\n                } catch (error) {\n                    console.error('msgRender: getUnderData error!')\n                }\n                that.isUnderLaoding = false;\n            }\n\n        }\n    }\n</script>\n<style scoped>\n    .msgrender-container{ \n        width: 100%; \n        height: 100%;\n        z-index: 100; \n        position: fixed; \n        left:0; \n        top: 0; \n        overflow: hidden;\n        background-color: #efefef;\n    }\n    .shadow{ \n        position: absolute; \n        top:0; \n        left: 0; \n        z-index: 100; \n        width: 100%; \n        height: 100%; \n        background: #000; \n        opacity: .2; \n    }\n    .window {\n        box-shadow: 1px 1px 20px -5px #000; \n        max-height: 900px;\n        width: 450px; \n        min-width: 300px; \n        background: #F5F5F5; \n        margin: 0 auto; \n        overflow: hidden; \n        padding: 0; \n        height: 100%;\n        position: relative;\n        z-index: 101;\n    }\n    .title{\n        text-indent: 15px; \n        text-align:left;\n        width: 100%; \n        height: 50px; \n        line-height: 50px; \n        font-size: 14px;\n        border-bottom: 1px solid #d5d5d5;\n    }\n    .message{\n        padding: 10px 15px;\n        background-color: #F5F5F5;\n    }\n    .message li {\n        margin-bottom: 15px;\n        left:0;\n        position: relative;\n        display: block;\n        text-align: left;\n    }\n    .message .text {\n        display: inline-block;\n        position: relative;\n        padding: 0 10px;\n        max-width: calc(100% - 75px);\n        min-height: 35px;\n        line-height: 2.1;\n        font-size: 15px;\n        padding: 6px 10px;\n        text-align: left;\n        word-break: break-all;\n        background-color: #fff;\n        color: #000;\n        border-radius: 4px;\n        box-shadow: 0px 1px 7px -5px #000;\n    }\n    .message .avatar {\n        float: left;\n        margin: 0 10px 0 0;\n        border-radius: 3px;\n        background: #fff;\n    }\n    .message .system {\n        margin: 10px 0;\n        text-align: center;\n    }\n    .message .system>span{\n        display: inline-block;\n        font-size: 12px;\n        color: #999;\n        border-radius: 2px;\n        padding: 4px 9px;\n        text-align: left;\n    }\n    .message .text:before {\n        content: \" \";\n        position: absolute;\n        top: 9px;\n        right: 100%;\n        border: 6px solid transparent;\n        border-right-color: #fff;\n    }\n    .message .self {\n        text-align: right;\n    }\n    .message .self .avatar {\n        float: right;\n        margin: 0 0 0 10px;\n    }\n    .message .self .text {\n        background-color: #9EEA6A;\n    }\n\n    .message .self .text:before {\n        right: inherit;\n        left: 100%;\n        border-right-color: transparent;\n        border-left-color: #9EEA6A;\n    }\n    .message .image{\n        max-width: 200px;\n    }\n    .msg-left{\n        left: 0;\n        animation: moveLeft .7s ease;\n        -webkit-animation:moveLeft .7s ease; \n    }\n    .msg-right{\n        left: 0;\n        animation: moveRight .7s ease;\n        -webkit-animation:moveRight .7s ease; \n    }\n    @keyframes moveRight{\n        0%{left:-20px; opacity: 0};\n        100%{left:0; opacity: 1}\n    }\n\n    @-webkit-keyframes moveRight\n    {\n        0%{left:-20px; opacity: 0};\n        100%{left:0px; opacity: 1}\n    }\n    @keyframes moveLeft{\n        0%{left:20px; opacity: 0};\n        100%{left:0px; opacity: 1}\n    }\n\n    @-webkit-keyframes moveLeft\n    {\n        0%{left:20px; opacity: 0};\n        100%{left:0px; opacity: 1}\n    }\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/MsgRender.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"msgrender-container\"},[_c('div',{staticClass:\"window\",attrs:{\"id\":\"window-container\"}},[_c('div',{staticClass:\"title\"},[_c('p',{domProps:{\"textContent\":_vm._s(_vm.groupName+'('+_vm.memberCount+')')}})]),_vm._v(\" \"),(_vm.msgDatas && _vm.msgDatas.length==0)?_c('div',{staticClass:\"loading\"},[_vm._m(0)]):_vm._e(),_vm._v(\" \"),(_vm.msgDatas && _vm.msgDatas.length>0)?_c('ScrollLoader',{staticClass:\"container-main\",style:({maxHeight: _vm.maxHeight-50 + 'px'}),attrs:{\"minHeight\":_vm.minHeight},on:{\"upscroll\":_vm.refresh,\"downscroll\":_vm.download}},[_c('div',{staticClass:\"message\"},[_c('ul',_vm._l((_vm.msgDatas),function(message,index){return _c('li',{key:message.id,class:message.userId==_vm.ownerId?'msg-right':'msg-left'},[(message.userId==_vm.systemId)?_c('p',{staticClass:\"system\"},[_c('span',{domProps:{\"innerHTML\":_vm._s(message.content)}})]):_c('div',{class:'main' + (message.userId==_vm.ownerId?' self':'')},[_c('img',{staticClass:\"avatar\",attrs:{\"width\":\"45\",\"height\":\"45\",\"src\":message.imgurl}}),_vm._v(\" \"),(message.type==_vm.types.text)?_c('div',{staticClass:\"text\"},[_vm._v(_vm._s(message.content))]):(message.type==_vm.types.img)?_c('img',{staticClass:\"image\",attrs:{\"src\":message.content,\"alt\":\"images\"}}):_vm._e()])])}),0)])]):_vm._e()],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"margin-top\":\"300px\",\"text-align\":\"center\",\"font-size\":\"16px\"}},[_c('span',[_vm._v(\"未查找到聊天记录\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1af89726\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MsgRender.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1af89726\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MsgRender.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MsgRender.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MsgRender.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1af89726\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./MsgRender.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1af89726\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MsgRender.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport MsgRender from '@/components/MsgRender'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'MsgRender',\n      component: MsgRender\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","module.exports = __webpack_public_path__ + \"static/img/za.db96103.jpeg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/za.jpeg\n// module id = YgB2\n// module chunks = 1","module.exports = __webpack_public_path__ + \"static/img/zaza.c750689.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/zaza.jpg\n// module id = eoWL\n// module chunks = 1","module.exports = __webpack_public_path__ + \"static/img/nezha.9e8584b.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/nezha.jpg\n// module id = h7X3\n// module chunks = 1","module.exports = __webpack_public_path__ + \"static/img/bingbing.303a6fc.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/bingbing.jpg\n// module id = m48a\n// module chunks = 1"],"sourceRoot":""}